# GameLab W3 - 2D 탐사 생존 게임 시스템

## 🎮 게임 개요
3일 개발 기간 내에 핵심 탐사 재미를 검증하기 위한 MVP 프로토타입입니다.
플레이어는 2D 횡스크롤 행성을 탐험하며 자원을 수집하고, 생존을 위협하는 환경을 극복하여 깃발을 점령해나가는 게임입니다.

## 🏗️ 시스템 아키텍처

### 📦 데이터 관리 (ScriptableObject)
- **MineralData**: 광물 정보 (이름, 아이콘, 색상, 설명)
- **BuildingRecipe**: 건설/업그레이드 비용 및 생산 정보

### 🎯 핵심 매니저 시스템
- **ResourceManager**: 모든 자원의 중앙 관리 (싱글톤)
- **PowerManager**: 전력 시스템 관리 (싱글톤)
- **GameEvents**: 시스템 간 느슨한 결합을 위한 이벤트 시스템

### ❤️ 생존 시스템
- **Health**: 범용 체력 컴포넌트
- **SafeZone**: 안전지대 범위 정의 및 감지
- **PlayerStatus**: 플레이어 상태 관리 (안전지대, 사망, 리스폰)
- **HPDrainSystem**: 안전지대 밖에서의 지속적 체력 감소

### 🔨 상호작용 시스템
- **IInteractable**: 상호작용 가능한 모든 오브젝트의 인터페이스
- **Interactor**: 플레이어의 상호작용 로직 담당
- **ResourceSource**: 채집 가능한 자원 오브젝트

### 🏭 생산 및 건설 시스템
- **Mine**: 특정 광물을 주기적으로 생산하는 건물
- **PowerGenerator**: 최대 전력량을 증가시키는 건물
- **Flag**: 안전지대를 제공하고 진행을 관리하는 깃발

### 🎨 UI 시스템
- **ResourceUI**: 자원 보유량 표시
- **PowerUI**: 전력 상태 표시 (슬라이더, 색상 변화)
- **HealthUI**: 체력 상태 표시 (경고 시스템 포함)
- **InteractionUI**: 상호작용 프롬프트 표시

## 🎮 게임플레이 플로우

### 1단계: 안전지대에서 정비
- 현재 자원 및 전력 상태 확인
- 광산에서 생산된 자원 수집
- 발전기 업그레이드 검토

### 2단계: 탐사 계획 수립
- 다음 깃발까지의 거리 확인
- 필요한 자원과 현재 보유량 비교
- HP 감소를 고려한 탐사 시간 계산

### 3단계: 탐사 실행
- 안전지대를 벗어나면 HP 감소 시작 (3초 유예시간)
- 필드의 자원 수집
- 다음 깃발 위치 확인

### 4단계: 깃발 점령
- 필요한 자원과 전력으로 깃발 활성화
- 새로운 안전지대 확보
- 해당 지역의 광산 재건축

## 🔧 설정 가이드

### 필요한 에셋 생성

#### 1. MineralData 에셋 생성
```
Assets > Create > Game Data > Mineral Data
```
- Iron (기본 광물)
- Cobalt (1번 행성 특수 광물)
- Lithium (2번 행성 특수 광물)

#### 2. BuildingRecipe 에셋 생성
```
Assets > Create > Game Data > Building Recipe
```
- Mine_Cobalt_Recipe: 코발트 광산 건설 레시피
- Mine_Lithium_Recipe: 리튬 광산 건설 레시피
- Generator_Upgrade_Lv1~3: 발전기 업그레이드 레시피

### 게임 오브젝트 설정

#### 플레이어 설정
1. Player 태그 적용
2. 컴포넌트 추가:
   - Health
   - PlayerStatus
   - HPDrainSystem
   - Interactor

#### 깃발 설정
1. Flag 컴포넌트 추가
2. activationRecipe 설정
3. SafeZone 범위 조정
4. 첫 번째 깃발은 isMainFlag = true

#### 광산 설정
1. Mine 컴포넌트 추가
2. activationRecipe 설정
3. 비활성/활성 스프라이트 설정

#### 자원 오브젝트 설정
1. ResourceSource 컴포넌트 추가
2. MineralData 연결
3. 수량 설정

#### UI 설정
1. Canvas에 UI 컴포넌트들 추가
2. ResourceUI: 자원 표시 영역 설정
3. PowerUI: 전력 슬라이더 설정
4. HealthUI: 체력 슬라이더 설정
5. InteractionUI: 상호작용 프롬프트 설정

## 🎯 핵심 검증 포인트

### 1. 위험 vs 보상 (Risk & Reward)
- 안전지대를 벗어나는 것의 긴장감
- 자원 수집의 보상감
- HP 관리의 전략적 요소

### 2. 진행감 (Progression)
- 깃발 점령을 통한 명확한 진전
- 자원 축적을 통한 성장감
- 새로운 지역 해금의 성취감

### 3. 자원 관리 (Resource Management)
- 제한된 자원으로 최적의 선택
- 전력과 광물의 균형
- 단기/장기 목표의 조율

## 🔍 테스트 시나리오

### 시나리오 1: 기본 플레이
1. 게임 시작 - 1번 깃발 (안전지대)
2. 주변 Iron 수집 (HP 감소 체험)
3. 1번 깃발로 복귀하여 HP 회복
4. 모은 Iron으로 코발트 광산 건설
5. 코발트 생산 대기 및 추가 Iron 수집
6. 충분한 자원으로 2번 깃발 활성화

### 시나리오 2: 실패 케이스
1. 무리한 탐사로 HP 소진
2. 사망 후 1번 깃발에서 리스폰
3. 더 신중한 자원 관리로 재도전

### 시나리오 3: 최적화 플레이
1. 발전기 업그레이드 우선
2. 광산 다중 운영
3. 효율적인 자원 순환 구조 구축

## 📝 확장 계획

### 단기 확장 (4-7일차)
- 몬스터 시스템 추가
- 추가 광물 종류 (9개 목표)
- 행성 이동 포털 시스템

### 중기 확장 (2주차)
- 건물 다양화 (연구소, 방어탑 등)
- 스킬/업그레이드 트리
- 절차적 지형 생성

### 장기 확장 (1개월+)
- 멀티플레이어 협력
- 스토리 모드
- 커스텀 행성 에디터

## 🚀 빠른 시작

1. 프로젝트 열기
2. 씬에서 플레이어 위치 확인
3. ResourceManager, PowerManager가 씬에 있는지 확인
4. 플레이 시작 후 E키로 상호작용 테스트
5. 안전지대 벗어나서 HP 감소 확인
6. 자원 수집 및 건물 건설 테스트

## 🎯 MVP 성공 지표
- [ ] 안전지대 밖 탐사 시 긴장감 발생
- [ ] 자원 수집의 명확한 보상감
- [ ] 깃발 점령을 통한 진행감
- [ ] 30분 내 2번째 깃발 점령 가능
- [ ] 시스템 확장 시 기존 코드 수정 최소화

이 시스템으로 3일 내에 핵심 게임플레이의 재미를 검증하고, 향후 확장의 기반을 마련할 수 있습니다.